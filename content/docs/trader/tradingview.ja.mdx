---
title: TradingViewインテグレーション
description: EchobellとTradingViewの連携方法について学ぶ
---

# Echobell と TradingView の連携

Echobell は、TradingView と連携して取引アラートからの通知を受け取ることができます。このガイドでは、連携の設定方法を説明します。

## 前提条件

- Echobell アカウント
- Webhook に対応した TradingView アカウント（通常は Pro/Pro+/Premium）

## セットアップ手順

### 1. Echobell でチャネルを作成（Webhook URL を取得）

1. iOS 版 Echobell アプリを開き、新しいチャネル（例：「TradingView」）を作成します。
2. チャネル詳細で Webhook URL をコピーし、秘密として扱います。
3. 緊急度に応じてチャネルの通知タイプ（通常 / Time Sensitive / 通話）を設定します。

### 2. TradingView アラートの設定

1. TradingView を開いてチャートに移動
2. 新規アラートを作成または既存のアラートを編集
3. アラートダイアログで：
   - アラート条件を必要に応じて設定
   - 「アラートアクション」までスクロール
   - 「Webhook URL」を選択
   - Echobell のウェブフック URL を貼り付け
   - 「メッセージ」フィールドで payload を定義（Echobell のテンプレートで利用される値）：

```json
{
  "title": "TradingViewアラート",
  "message": "{{ticker}}が{{price}}に到達"
}
```

## メッセージフォーマット

TradingView の変数を使用して通知をカスタマイズできます：

- `{{ticker}}` - シンボル名
- `{{price}}` - 現在の価格
- `{{volume}}` - 現在の取引量
- `{{time}}` - アラート発生時刻
- `{{exchange}}` - 取引所名
- `{{interval}}` - チャート間隔

## 高度な設定

### 優先度は Echobell 側で設定

Echobell の優先度はチャネル単位で管理され、TradingView の payload では変更できません。緊急度を変えたい場合：

- Echobell アプリでチャネルの通知タイプを設定します：**通常** / **Time Sensitive** / **通話**（[/ja/docs/notification](/ja/docs/notification) を参照）。
- 異なる緊急度が必要ならチャネルを分け（例：「TV — 通話」「TV — プッシュ」）、各アラートで対応する Webhook URL を使います。

注意：カスタムの通知サウンドは現在サポートしていません。

## アラートテンプレート例

### 基本的な価格アラート

```json
{
  "title": "価格アラート",
  "message": "{{ticker}}の現在価格：{{price}}"
}
```

### 出来高急増アラート

```json
{
  "title": "出来高アラート",
  "message": "{{ticker}}で高出来高を検出\n出来高：{{volume}}\n価格：{{price}}"
}
```

### トレードシグナルアラート

```json
{
  "title": "トレードシグナル",
  "message": "{{ticker}}の{{strategy.order.action}}シグナル\n価格：{{price}}\n時刻：{{time}}"
}
```

## 連携のテスト

1. アラートを設定した後、TradingView のアラートダイアログの「テスト」ボタンをクリックしてテストできます
2. Echobell でテスト通知を受信するはずです
3. Echobell ダッシュボードでウェブフックがテストペイロードを受信したことを確認してください

## トラブルシューティング

通知が届かない場合：

1. ウェブフック URL が TradingView に正しく貼り付けられているか確認
2. アラート条件が適切に設定されているか確認
3. Echobell アカウントがアクティブで通知が有効になっているか確認
4. Echobell ダッシュボードでウェブフックログにエラーメッセージがないか確認

## レート制限

- TradingView 無料アカウントはウェブフック呼び出しに制限があります
- 過剰なトリガーを避けるため、アラート条件を具体的に設定してください
- より高いウェブフック制限が必要な場合は、TradingView アカウントのアップグレードを検討してください

Echobell のウェブフック機能の詳細については、[ウェブフックドキュメント](/ja/docs/webhook)をご覧ください。
